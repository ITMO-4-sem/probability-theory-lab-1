(()=>{"use strict";var t,e={308:(t,e,n)=>{var i,s;!function(t){t.DELETE="--mode-delete",t.ADD="--mode-add"}(i||(i={})),function(t){t.Enter="Enter",t.Space="Space",t.Backspace="Backspace",t.Delete="Delete",t.ArrowRight="ArrowRight",t.ArrowLeft="ArrowRight"}(s||(s={}));class r{constructor(t){this.inputsSequenceContainerDOMClass=r.DEFAULT_INPUTS_SEQUENCE_CONTAINER_DOM_CLASS,this.switchDOMClass=r.DEFAULT_SWITCH_DOM_CLASS,this.input=r.DEFAULT_INPUT,this.mode=r.DEFAULT_MODE,this.initInputsNumber=r.DEFAULT_INIT_INPUTS_NUMBER,this.inputsList=new Array;const{input:e,initInputsNumber:n,inputsSequenceContainerSelector:i,switchSelector:s}=t;if(null!=i){if(0==i.length)throw new Error("Inputs sequenceContainer selector must not be an empty string");this.inputsSequenceContainerDOMClass=i}if(null!=s){if(0==s.length)throw new Error("Switch selector must not be an empty string");this.switchDOMClass=s}let o=!1;if(null!=e&&(this.input=e,o=!0),void 0!==n){if(n<0)throw new Error('Initial number of inputs can\'t be below "0"');this.initInputsNumber=n}if(this.elInputsSequenceContainer=document.querySelector("."+this.inputsSequenceContainerDOMClass),this.elAddButton=document.querySelector("."+this.inputsSequenceContainerDOMClass+"__add-button"),this.elInputs=document.querySelector("."+this.inputsSequenceContainerDOMClass+"__inputs"),null===this.elInputsSequenceContainer||null===this.elAddButton||null===this.elInputs)throw Error("HTML document doesn't contain elements with the specified class names.");const l=this.findExistingInDOMInputs();if(o&&0!=l.length)throw new Error('Constructor parameter "input" is specified and there are existing "input" elements in DOM at the same time. Leave only one of these options.');0!=l.length&&(this.input=l[0].cloneNode(),this.input.value="");for(const t of l)this.inputsList.push(t);this.initInputsNumber>l.length&&this.addInputsToTheEnd(this.initInputsNumber-l.length,!0),console.warn("inpList length = ",this.inputsList.length),this.init()}init(){this.elInputs.addEventListener("keyup",(t=>{if(!(t.target instanceof HTMLInputElement))return;const e=t.target,n=t.code;switch(this.mode){case i.ADD:if(r.KEYS_TO_ADD_INPUT.includes(n))if(e===this.getLastInput()&&this.areAllInputsFilledCorrectly())this.addInput(!0);else{const t=this.getNextInput(e);t&&t.focus()}break;case i.DELETE:if(r.KEYS_TO_DELETE_INPUT.includes(n)){const n=this.getPrevInput(e);this.deleteInput(t.target),n&&n.focus()}break;default:throw new Error("Unchecked Mode is used.")}})),this.elAddButton.addEventListener("click",(()=>{switch(this.mode){case i.ADD:this.areAllInputsFilledCorrectly()&&this.addInput(!0)}}))}findExistingInDOMInputs(){const t=new Array;for(const e of this.elInputs.children)e instanceof HTMLInputElement&&t.push(e);return t}areAllInputsFilledCorrectly(){for(const t of this.inputsList)if(!t.checkValidity())return t.reportValidity(),!1;return!0}addInput(t){const e=this.input.cloneNode();this.elInputs.append(e),this.inputsList.push(e),t&&e.focus()}addInputsToTheEnd(t,e){if(t<0)throw new Error('Number of inputs isn\'t allowed to be below "0"');for(let e=0;e<t-1;e++)this.addInput(!1);this.addInput(e)}deleteInput(t){if(-1===this.inputsList.indexOf(t))throw new Error('The specified "input" not found.');t.remove(),this.inputsList.splice(this.inputsList.indexOf(t),1)}deleteInputsFromTheEnd(t){if(t>this.inputsList.length)throw new Error("Number of inputs to delete is more then a number of  existing inputs.");for(let e=0;e<t;e++){const t=this.inputsList.pop();t&&t.remove()}}getLastInput(){return 0!=this.inputsList.length?this.inputsList[this.inputsList.length-1]:void 0}getNextInput(t){const e=this.inputsList.indexOf(t);if(-1!=e&&e!=this.inputsList.length-1)return this.inputsList[e+1]}getPrevInput(t){const e=this.inputsList.indexOf(t);if(-1!=e&&0!=e)return this.inputsList[e-1]}deleteAllInputs(){for(const t of this.inputsList)t.remove();this.inputsList=new Array}setValues(t){t.length<this.inputsList.length?this.deleteInputsFromTheEnd(this.inputsList.length-t.length):t.length>this.inputsList.length&&this.addInputsToTheEnd(t.length-this.inputsList.length);for(let e=0;e<t.length;e++)this.inputsList[e].value=t[e].toString()}setMode(t){this.setModeDOM(t),this.mode=t}setModeDOM(t,e){this.elInputsSequenceContainer.classList.remove(e?this.inputsSequenceContainerDOMClass+e:this.inputsSequenceContainerDOMClass+this.mode),this.elInputsSequenceContainer.classList.add(this.inputsSequenceContainerDOMClass+t)}getValues(){const t=new Array;for(const e of this.inputsList)t.push(e.value);return{areAllInputsFilledCorrectly:this.areAllInputsFilledCorrectly(),values:t}}}r.initializer={defaultInput:function(){const t=document.createElement("input");return t.required=!0,t.maxLength=4,t.step="any",t.type="number",t}},r.DEFAULT_INPUTS_SEQUENCE_CONTAINER_DOM_CLASS="inputs-sequence-container",r.DEFAULT_SWITCH_DOM_CLASS="switch",r.DEFAULT_INPUT=r.initializer.defaultInput(),r.DEFAULT_MODE=i.ADD,r.DEFAULT_INIT_INPUTS_NUMBER=4,r.KEYS_TO_ADD_INPUT=new Array(s.Enter),r.KEYS_TO_DELETE_INPUT=new Array(s.Backspace,s.Space);var o=n(143);const l=new r({initInputsNumber:1}),u=new class{constructor(){if(this.FILE_INPUT__INPUT_DOM_CLASS="file-input__input",this.FILE_INPUT__STATUS_DOM_CLASS="file-input__status",this.onFileChosenCallbacks=[],this.elFileInputInput=document.querySelector("."+this.FILE_INPUT__INPUT_DOM_CLASS),this.elFileInputStatus=document.querySelector("."+this.FILE_INPUT__STATUS_DOM_CLASS),null===this.elFileInputInput||null===this.elFileInputStatus)throw new Error("Invalid class names of html elements.");this.init()}init(){this.elFileInputInput.addEventListener("change",(t=>{const e=this.elFileInputInput.files;console.warn("input value is ..",this.elFileInputInput.value),e&&0!=e.length?(this.elFileInputStatus.innerText=e[0].name,this.emitOnFileChosenCallbacks(e[0])):this.elFileInputStatus.innerText="No file chosen"}))}onFileChosen(t){this.onFileChosenCallbacks.push(t)}emitOnFileChosenCallbacks(t){for(const e of this.onFileChosenCallbacks)e.onChosen(t)}},a=new class{constructor(){if(this.SWITCH__CHECKBOX_DOM_CLASS="switch__checkbox",this.onSwitchToggledCallbacks=[],this.elSwitchCheckbox=document.querySelector("."+this.SWITCH__CHECKBOX_DOM_CLASS),null===this.elSwitchCheckbox)throw new Error("Invalid html class.");this.elSwitchCheckbox.addEventListener("change",(t=>{this.emitOnSwitchToggledCallbacks()}))}emitOnSwitchToggledCallbacks(){for(const t of this.onSwitchToggledCallbacks)t.onToggled(this.isChecked())}onSwitchToggled(t){this.onSwitchToggledCallbacks.push(t)}isChecked(){return this.elSwitchCheckbox.checked}},c=new class{calculate(t){if(t.length<1)throw new Error("Invalid sample. Sample length must be not less then 1.");t.sort(((t,e)=>t-e));const e=t[0],n=t[t.length-1],i=n-e,s={x:[],y:[]},r={x:[],y:[]},o=t.length,l=new Set(t);for(const e of l){const n=this.countOccurrences(t,e);s.x.push(e),s.y.push(n/o),r.x.push(e),r.y.push(n)}let u=0;for(let t=0;t<s.x.length;t++)u+=s.x[t]*s.y[t];let a=0;for(let t=0;t<s.x.length;t++)a+=Math.pow(s.x[t]-u,2)*s.y[t];const c=Math.sqrt(a),h=this.getDistributionFunction(s),p=(n-e)/(1+Math.log2(o));let d=e-p/2;const f=new Array;for(;d<n;){const t={start:d,end:d+p};f.push({interval:t,value:this.getNumOfIntervalOccurrencies(t,r)/p}),d+=p}return{variationalSample:t,minValue:e,maxValue:n,scope:i,expectation:u,standardDeviation:c,distributionFreq:r,distributionFunction:h,intervalDistribution:f}}countOccurrences(t,e){let n=0;for(let i=0;i<t.length;i++)t[i]===e&&n++;return n}getDistributionFunction(t){const e=new Array;let n=t.y[0];e.push({interval:{start:-1/0,end:t.x[0]},value:0});for(let i=0;i<t.x.length-1;i++)e.push({interval:{start:t.x[i],end:t.x[i+1]},value:n}),n+=t.y[i+1];return e.push({interval:{start:t.x[t.x.length-1],end:1/0},value:1}),e}getNumOfIntervalOccurrencies(t,e){let n=0;for(let i=0;i<e.x.length;i++)e.x[i]>=t.start&&e.x[i]<=t.end&&(n+=e.y[i]);return n}},h="#C19434",p=document.querySelector(".button-submit"),d=new FileReader,f=document.querySelector(".distribution-freq-polygon").getContext("2d"),g=document.querySelector(".interval-distribution-histogram").getContext("2d"),I=document.querySelector(".distribution-func-plot").getContext("2d");let m,S,C;const _=document.querySelector(".sample-characteristics__min"),b=document.querySelector(".sample-characteristics__max"),w=document.querySelector(".sample-characteristics__scope"),y=document.querySelector(".sample-characteristics__expectation"),E=document.querySelector(".sample-characteristics__standard-deviation");a.onSwitchToggled({onToggled(t){t?l.setMode(i.DELETE):l.setMode(i.ADD)}}),u.onFileChosen({onChosen:t=>{d.readAsText(t),d.onload=()=>{"string"==typeof d.result&&(l.setValues(d.result.replaceAll("\n"," ").replaceAll("\r"," ").replaceAll("  "," ").split(" ")),window.fres=d.result)},console.warn("kek"),d.onerror=()=>{console.error("Ошибка при чтении файла")},console.log("got file:",t.name)}});const T=new Array(0,0);let x;function L(){if(null===f||null===g||null===I)throw new Error("There is no proper html canvas elements.");!function(t,e){void 0!==m&&m.destroy();m=new o.Z(e,{type:"bar",data:{labels:t.distributionFreq.x,datasets:[{type:"line",label:"Line Dataset",data:t.distributionFreq.y,borderColor:h}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{offset:!0,title:{display:!0,text:"x",color:h}},y:{title:{display:!0,text:"n",color:h}}},plugins:{title:{display:!0,text:"Полигон частот"}}}})}(x,f),function(t,e){const n=t.intervalDistribution,i=[],s=[];for(const t of n)i.push(t.interval.end.toFixed(2)),s.push(t.value);void 0!==S&&S.destroy();S=new o.Z(e,{type:"bar",data:{labels:i,datasets:[{type:"bar",label:"Line Dataset",data:s,borderColor:"rgb(75, 192, 192)",barPercentage:1,categoryPercentage:1},{type:"line",label:"Line Dataset",data:s,borderColor:h,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{offset:!0,title:{display:!0,text:"x",color:h}},y:{title:{display:!0,text:"n / h",color:h}}},plugins:{title:{display:!0,text:"Гистограмма интервального стат. ряда (частоты)"}}}})}(x,g),function(t,e){const n=[0],i=[0];for(let e=1;e<t.distributionFunction.length;e++)n.push(t.distributionFunction[e].interval.start),i.push(t.distributionFunction[e].value);n.push(t.distributionFunction[t.distributionFunction.length-1].interval.end+1),i.push(1),void 0!==C&&C.destroy();C=new o.Z(e,{type:"bar",data:{labels:n,datasets:[{type:"line",label:"Line Dataset",data:i,borderColor:h,tension:0,stepped:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{offset:!0,title:{display:!0,text:"x",color:h}},y:{title:{display:!0,text:"F (x)",color:h}}},plugins:{title:{display:!0,text:"Функция распределения"}}}})}(x,I)}function v(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)}x=c.calculate(T),L(),p.addEventListener("click",(()=>{const t=l.getValues(),e=t.values,n=new Array;if(t.areAllInputsFilledCorrectly){for(const t of e){if(!v(t))return void alert("Invalid number: "+t+".");n.push(parseFloat(t))}x=c.calculate(n),_.innerText=x.minValue.toString(),b.innerText=x.maxValue.toString(),w.innerText=x.scope.toFixed(2),y.innerText=x.expectation.toFixed(2),E.innerText=x.standardDeviation.toFixed(2),L()}else alert("Please fill all the inputs and fill them correctly.")})),window.isNumeric=v}},n={};function i(t){var s=n[t];if(void 0!==s)return s.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,n,s,r)=>{if(!n){var o=1/0;for(a=0;a<t.length;a++){for(var[n,s,r]=t[a],l=!0,u=0;u<n.length;u++)(!1&r||o>=r)&&Object.keys(i.O).every((t=>i.O[t](n[u])))?n.splice(u--,1):(l=!1,r<o&&(o=r));l&&(t.splice(a--,1),e=s())}return e}r=r||0;for(var a=t.length;a>0&&t[a-1][2]>r;a--)t[a]=t[a-1];t[a]=[n,s,r]},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var s,r,[o,l,u]=n,a=0;for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(u)var c=u(i);for(e&&e(n);a<o.length;a++)r=o[a],i.o(t,r)&&t[r]&&t[r][0](),t[o[a]]=0;return i.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var s=i.O(void 0,[143],(()=>i(308)));s=i.O(s)})();